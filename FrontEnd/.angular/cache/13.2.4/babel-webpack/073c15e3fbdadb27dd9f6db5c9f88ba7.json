{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Pfe\\\\projet pfe molka attia\\\\projet-pfe-molka-attia\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { users } from './users-list';\nlet UserComponent = class UserComponent {\n  constructor(userService, route, router) {\n    this.userService = userService;\n    this.route = route;\n    this.router = router;\n    this.usersList = users;\n    this.imagePreview = \"\";\n    this.formaddUser = new FormGroup({});\n    this.showAddUserForm = false;\n    this.showUserDetails = false;\n    this.showEditUserForm = false;\n    this.currentuser = users[0];\n    this.fetchedUser = users;\n  }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(resultatUser => {\n      this.fetchedUser = resultatUser;\n      console.log(resultatUser);\n    });\n    this.formaddUser = new FormGroup({\n      name: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      password: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      type: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      user_img: new FormControl(null, {\n        validators: [Validators.required]\n      })\n    });\n  }\n\n  onDeleteUser() {\n    this.route.paramMap.subscribe(params => {\n      const userId = params.get(\"id\");\n      this.userService.DeleteUser(userId);\n      this.router.navigate(['admin/user']);\n    });\n  }\n\n  onAddSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.userService.addUser(_this.formaddUser.value);\n      _this.showAddUserForm = false; // this.router.navigate(['dash-respo/events']);\n    })();\n  } // onImagePicked(event :Event){\n  //   const file = (event.target as HTMLInputElement).files[0];\n  //   this.formaddUser.patchValue({user_img:file});\n  //   this.formaddUser.get('user_img').updateValueAndValidity();\n  //   const reader = new FileReader();\n  //   reader.onload = () => {\n  //     this.imagePreview = reader.result as string;\n  //   };\n  //   reader.readAsDataURL(file);\n  // }\n\n\n  onClickShowForm() {\n    this.showAddUserForm = true;\n  }\n\n  onClickCloseForm() {\n    this.showAddUserForm = false;\n  }\n\n  onClickShowForm2(user) {\n    this.showUserDetails = true;\n    this.currentuser = user;\n  }\n\n  onClickCloseForm2() {\n    this.showUserDetails = false;\n  }\n\n  onClickCloseForm3() {\n    this.showEditUserForm = false;\n  }\n\n  onClickShowForm3() {\n    this.showUserDetails = false;\n    this.showEditUserForm = true;\n  }\n\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})], UserComponent);\nexport { UserComponent };","map":{"version":3,"sources":["C:/Pfe/projet pfe molka attia/projet-pfe-molka-attia/FrontEnd/src/app/admin/user/user.component.ts"],"names":["__decorate","Component","FormControl","FormGroup","Validators","users","UserComponent","constructor","userService","route","router","usersList","imagePreview","formaddUser","showAddUserForm","showUserDetails","showEditUserForm","currentuser","fetchedUser","ngOnInit","getUsers","subscribe","resultatUser","console","log","name","validators","required","email","password","type","user_img","onDeleteUser","paramMap","params","userId","get","DeleteUser","navigate","onAddSubmit","addUser","value","onClickShowForm","onClickCloseForm","onClickShowForm2","user","onClickCloseForm2","onClickCloseForm3","onClickShowForm3","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { users } from './users-list';\r\nlet UserComponent = class UserComponent {\r\n    constructor(userService, route, router) {\r\n        this.userService = userService;\r\n        this.route = route;\r\n        this.router = router;\r\n        this.usersList = users;\r\n        this.imagePreview = \"\";\r\n        this.formaddUser = new FormGroup({});\r\n        this.showAddUserForm = false;\r\n        this.showUserDetails = false;\r\n        this.showEditUserForm = false;\r\n        this.currentuser = users[0];\r\n        this.fetchedUser = users;\r\n    }\r\n    ;\r\n    ngOnInit() {\r\n        this.userService.getUsers().subscribe((resultatUser) => {\r\n            this.fetchedUser = resultatUser;\r\n            console.log(resultatUser);\r\n        });\r\n        this.formaddUser = new FormGroup({\r\n            name: new FormControl(null, { validators: [Validators.required] }),\r\n            email: new FormControl(null, { validators: [Validators.required] }),\r\n            password: new FormControl(null, { validators: [Validators.required] }),\r\n            type: new FormControl(null, { validators: [Validators.required] }),\r\n            user_img: new FormControl(null, { validators: [Validators.required] }),\r\n        });\r\n    }\r\n    onDeleteUser() {\r\n        this.route.paramMap.subscribe(params => {\r\n            const userId = params.get(\"id\");\r\n            this.userService.DeleteUser(userId);\r\n            this.router.navigate(['admin/user']);\r\n        });\r\n    }\r\n    async onAddSubmit() {\r\n        await this.userService.addUser(this.formaddUser.value);\r\n        this.showAddUserForm = false;\r\n        // this.router.navigate(['dash-respo/events']);\r\n    }\r\n    // onImagePicked(event :Event){\r\n    //   const file = (event.target as HTMLInputElement).files[0];\r\n    //   this.formaddUser.patchValue({user_img:file});\r\n    //   this.formaddUser.get('user_img').updateValueAndValidity();\r\n    //   const reader = new FileReader();\r\n    //   reader.onload = () => {\r\n    //     this.imagePreview = reader.result as string;\r\n    //   };\r\n    //   reader.readAsDataURL(file);\r\n    // }\r\n    onClickShowForm() {\r\n        this.showAddUserForm = true;\r\n    }\r\n    onClickCloseForm() {\r\n        this.showAddUserForm = false;\r\n    }\r\n    onClickShowForm2(user) {\r\n        this.showUserDetails = true;\r\n        this.currentuser = user;\r\n    }\r\n    onClickCloseForm2() {\r\n        this.showUserDetails = false;\r\n    }\r\n    onClickCloseForm3() {\r\n        this.showEditUserForm = false;\r\n    }\r\n    onClickShowForm3() {\r\n        this.showUserDetails = false;\r\n        this.showEditUserForm = true;\r\n    }\r\n};\r\nUserComponent = __decorate([\r\n    Component({\r\n        selector: 'app-user',\r\n        templateUrl: './user.component.html',\r\n        styleUrls: ['./user.component.css']\r\n    })\r\n], UserComponent);\r\nexport { UserComponent };\r\n"]},"metadata":{},"sourceType":"module"}