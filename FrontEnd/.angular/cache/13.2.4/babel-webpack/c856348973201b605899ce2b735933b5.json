{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Pfe\\\\projet pfe molka attia\\\\projet-pfe-molka-attia\\\\FrontEnd\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { users } from './users-list';\nlet UserComponent = class UserComponent {\n  constructor(userService, route, router) {\n    this.userService = userService;\n    this.route = route;\n    this.router = router;\n    this.usersList = users;\n    this.showAddUserForm = false;\n    this.showUserDetails = false;\n    this.showEditUserForm = false;\n    this.currentuser = users[0];\n    this.fetchedUser = users;\n  }\n\n  ngOnInit() {\n    this.userService.getUsers().subscribe(resultatUser => {\n      this.fetchedUser = resultatUser;\n      console.log(resultatUser);\n    });\n    this.formaddUser = new FormGroup({\n      name: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      email: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      password: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      type: new FormControl(null, {\n        validators: [Validators.required]\n      }),\n      user_img: new FormControl(null, {\n        validators: [Validators.required]\n      })\n    });\n  }\n\n  onDeleteUser(id) {\n    // this.route.paramMap.subscribe(params=>{\n    // const userId=params.get(\"id\");\n    const userId = id;\n    console.log(id);\n    this.userService.DeleteUser(\"622799a06000a5b792490c17\"); //this.router.navigate(['admin/user']);\n    // })\n  }\n\n  onAddSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.userService.addUser(_this.formaddUser.value);\n      _this.showAddUserForm = false; // this.router.navigate(['dash-respo/events']);\n    })();\n  }\n\n  onImagePicked(event) {\n    const file = event.target.files[0];\n    this.formaddUser.patchValue({\n      user_img: file\n    });\n    this.formaddUser.get('user_img').updateValueAndValidity();\n    const reader = new FileReader();\n\n    reader.onload = () => {\n      this.imagePreview = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  onClickShowForm() {\n    this.showAddUserForm = true;\n  }\n\n  onClickCloseForm() {\n    this.showAddUserForm = false;\n  }\n\n  onClickShowForm2(user) {\n    this.showUserDetails = true;\n    this.currentuser = user;\n  }\n\n  onClickCloseForm2() {\n    this.showUserDetails = false;\n  }\n\n  onClickCloseForm3() {\n    this.showEditUserForm = false;\n  }\n\n  onClickShowForm3() {\n    this.showUserDetails = false;\n    this.showEditUserForm = true;\n  }\n\n};\nUserComponent = __decorate([Component({\n  selector: 'app-user',\n  templateUrl: './user.component.html',\n  styleUrls: ['./user.component.css']\n})], UserComponent);\nexport { UserComponent };","map":{"version":3,"sources":["C:/Pfe/projet pfe molka attia/projet-pfe-molka-attia/FrontEnd/src/app/admin/user/user.component.ts"],"names":["__decorate","Component","FormControl","FormGroup","Validators","users","UserComponent","constructor","userService","route","router","usersList","showAddUserForm","showUserDetails","showEditUserForm","currentuser","fetchedUser","ngOnInit","getUsers","subscribe","resultatUser","console","log","formaddUser","name","validators","required","email","password","type","user_img","onDeleteUser","id","userId","DeleteUser","onAddSubmit","addUser","value","onImagePicked","event","file","target","files","patchValue","get","updateValueAndValidity","reader","FileReader","onload","imagePreview","result","readAsDataURL","onClickShowForm","onClickCloseForm","onClickShowForm2","user","onClickCloseForm2","onClickCloseForm3","onClickShowForm3","selector","templateUrl","styleUrls"],"mappings":"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","sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { users } from './users-list';\r\nlet UserComponent = class UserComponent {\r\n    constructor(userService, route, router) {\r\n        this.userService = userService;\r\n        this.route = route;\r\n        this.router = router;\r\n        this.usersList = users;\r\n        this.showAddUserForm = false;\r\n        this.showUserDetails = false;\r\n        this.showEditUserForm = false;\r\n        this.currentuser = users[0];\r\n        this.fetchedUser = users;\r\n    }\r\n    ngOnInit() {\r\n        this.userService.getUsers().subscribe((resultatUser) => {\r\n            this.fetchedUser = resultatUser;\r\n            console.log(resultatUser);\r\n        });\r\n        this.formaddUser = new FormGroup({\r\n            name: new FormControl(null, { validators: [Validators.required] }),\r\n            email: new FormControl(null, { validators: [Validators.required] }),\r\n            password: new FormControl(null, { validators: [Validators.required] }),\r\n            type: new FormControl(null, { validators: [Validators.required] }),\r\n            user_img: new FormControl(null, { validators: [Validators.required] }),\r\n        });\r\n    }\r\n    onDeleteUser(id) {\r\n        // this.route.paramMap.subscribe(params=>{\r\n        // const userId=params.get(\"id\");\r\n        const userId = id;\r\n        console.log(id);\r\n        this.userService.DeleteUser(\"622799a06000a5b792490c17\");\r\n        //this.router.navigate(['admin/user']);\r\n        // })\r\n    }\r\n    async onAddSubmit() {\r\n        await this.userService.addUser(this.formaddUser.value);\r\n        this.showAddUserForm = false;\r\n        // this.router.navigate(['dash-respo/events']);\r\n    }\r\n    onImagePicked(event) {\r\n        const file = event.target.files[0];\r\n        this.formaddUser.patchValue({ user_img: file });\r\n        this.formaddUser.get('user_img').updateValueAndValidity();\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n            this.imagePreview = reader.result;\r\n        };\r\n        reader.readAsDataURL(file);\r\n    }\r\n    onClickShowForm() {\r\n        this.showAddUserForm = true;\r\n    }\r\n    onClickCloseForm() {\r\n        this.showAddUserForm = false;\r\n    }\r\n    onClickShowForm2(user) {\r\n        this.showUserDetails = true;\r\n        this.currentuser = user;\r\n    }\r\n    onClickCloseForm2() {\r\n        this.showUserDetails = false;\r\n    }\r\n    onClickCloseForm3() {\r\n        this.showEditUserForm = false;\r\n    }\r\n    onClickShowForm3() {\r\n        this.showUserDetails = false;\r\n        this.showEditUserForm = true;\r\n    }\r\n};\r\nUserComponent = __decorate([\r\n    Component({\r\n        selector: 'app-user',\r\n        templateUrl: './user.component.html',\r\n        styleUrls: ['./user.component.css']\r\n    })\r\n], UserComponent);\r\nexport { UserComponent };\r\n"]},"metadata":{},"sourceType":"module"}